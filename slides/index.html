<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="node_modules/reveal.js/css/theme/white.css">
    <!-- Code highlighting theme -->
    <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">
    <style>
      /* No borders on images */
      .reveal section img {
        border: inherit;
      }

      /* Hide current-visible after it is passed */
      .reveal .slides section .fragment.current-visible:not(.current-fragment) {
        display: none;
      }

      .reveal section.who-am-i img {
        box-shadow: none;
        margin-top: 0px;
        margin-bottom: -10px;
      }

    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Python in the Browser</h1>
          <h2>A Guide for Intrepid Pythonistas</h2>

          <aside class="notes">
            Let's get started.

            The web is an expressive and flexible medium for writing
            rich applications.  Most of you probably write web applications
            using a frontend framework like React or Vue. Today we'll be talking
            about an exciting alternative for adventurous Pythonistas,
            writing frontend web apps with Python!

            <br/>

            <!-- Use at the end -->
            <div style="display: none">
              I was really excited at the idea of Python in the Browser,
              and after writing this talk I'm sobered, but still excited
              and chomping at the bit to write a real app with this and
              use that as motiviation to improve the ecosystem.
            </div>
          </aside>
        </section>
        <section class="who-am-i">
          <h1>âœ‹ Hi, I'm Max </h1>

          <p>
          Github - @mshenfield
          </p>
          <p>
          Twitter - @MaxShenfield
          </p>

          <aside class='notes'>
            My name is Max Shenfield.  I use Python every day to build billing
            and accounting software at Eventbrite.  On my free time, I work with Code for Nashville
            to build open source software projects that improve Nashville.

            You can find me on Github as mshenfield, or Twitter as Max Shenfield.
          </aside>
        </section>
        <section class="summary">
          <section>
            <h1>Summary</h1>
            <ul>
              <li>Why Python in the Browser?</li>
              <li>Todo List Demo</li>
              <li>Tools</li>
              <li>Questions</li>
            </ul>
            <aside class='notes'>
              My talk will first answer the question, "Why Python in the Browser?".
              I'll then demo a Todo List app built entirely with Python and
              show how some of it was built.  Afterwards, we'll talk about
              the ecosystem of Python to JavaScript transpilation tools, and
              deep dive into two of them, Brython and Transcrypt.  Finally,
              we'll have a few minutes for questions at the end.
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h1>Why Python in the Browser?</h1>
          </section>
          <section>
            <img style="box-shadow: none" data-src="img/python-logo.jpg"/>
            <div>You ðŸ’›ðŸ’™ Python</div>
            <aside class="notes">
              You're here, so you already work with Python in your
              day job, are learning it as your first language, or
              want to learn more about it.

              Python is a great language.  It's emphasis on ease
              and readability bring powerful domains right to
              our fingertips.
            </aside>
          </section>
          <section class="scipy-example">
            <pre><code data-trim>
              from sklearn import datasets
              digits = datasets.load_digits()

              from sklearn import svm
              classifier = svm.SVC(gamma=0.001, C=100.)
              classifier.fit(digits.data[:-1], digits.target[:-1])
              clf.predict(digits.data[-1:])
            </code></pre>
            <img style="box-shadow: none" data-src="img/handwritten-character.png"/>
            <aside class="notes">
              For example, using machine learning to identify handwritten
              characters with sci-kit-learn.
            </aside>
          </section>
          <section class="click-example">
            <pre><code data-trim>
              import click

              @click.command()
              @click.option(
                '--name',
                help='The person to greet.'
              )
              def hello(name):
                  click.echo(f'Hello {name}!')

              if __name__ == '__main__':
                  hello('PyNash')
            </code></pre>
            <aside class="notes">
              And writing command line applications as complex as git
              using click.

              (Those are Python format strings, by the way - they
              allow inserting python expressions directly into a
              string and are available in Python 3.6 and up)
            </aside>
          </section>
          <section>
            <img style="box-shadow: none" data-src="img/beaker.png"/>
            <div>You ðŸ’– to experiment</div>

            <aside class="notes">
              It's fun to see what you can come up with, and you don't mind
              wading through Github issues and unimplemented features to
              get there.  Python to JavaScript transpilation tools still
              have a lot of rough edges.
            </aside>
          </section>
          <section>
            <div>JavaScript still kind of sucks</div>
            <!-- TODO: Examples -->
            <aside class="notes">
              JavaScript still kind of sucks.  It's greatest asset is that
              we've been forced to use it, and so it has an astoundingly
              vibrant community of developers using and creating tools with
              it.

              It's still a language where you actually have to think about
              which for loop you're using, bind functions before passing
              them to callbacks, and where just below the surface lurks an
              entirely unexpected model of classes
            </aside>
          </section>
        </section>
        <section>
          <section>
            <a target="_blank" href="http://localhost:8080/"><h1>Todo List Demo</h1></a>
            <aside class="notes">
              Features
              <ul>
                <li>Type in a todo</li>
                <li>Edit the todo (Hola)</li>
                <li>Mark it as completed</li>
                <li>Maintain local state</li>
                <li>Show active</li>
                <li>Show completed</li>
                <li>Show all</li>
                <li>Clear completed</li>
              </ul>
            </aside>
          </section>
          <section>
            <pre><code data-trim>
              class Todo:
                  """An item in a todo list."""
                  def __init__(self, text='', completed=False):
                      self.text = text
                      self.completed = completed
                      self.editing = False
            </code></pre>
            <pre><code data-trim data-noescape>
              class TodoInput:
                  """An input that allows users to create a new Todo item"""
                  def on_input(event):
                      if event.key != 'Enter':
                          return

                      todo_text = event.target.value.strip()
                      if not todo_text:
                          return
                      self.props.add_todo((Todo(todo_text))

                  def render(self):
                      return React.createClass(
                          'input',
                          {},
                          {
                            'onInput': self.on_input,
                            'type': 'text',
                          },
                      )
            </code></pre>
            <aside class="notes">
              First fragment shows some basic frontend rendering code
            </aside>
          </section>
        </section>
        <section data-background-color='#000'>
          <h1 style='color: white;'>Part 2: The Wild West</h1>
        </section>
        <section>
          <h2>Transcrypt</h2>
          Transpiled (think coffee-script) with good dev tools
          <aside class="notes">
            Python 3.

            Embraces the power of the JS ecosystem, at the expense of Python
            semantics.  Best experience available.
          </aside>
        </section>
        <section>
          <h2>Brython</h2>
          Interpreter has to ship with your code, unsurprising but slow
          <aside class="notes">
            Python 3. Python semantics at the expense of performance.

            The `browser` addon doesn't compare to other JS tooling
            like React and Vue.js, or even jQuery.  I want to get
            away from DOM manipulation, not have a new way of doing it.
          </aside>
        </section>
        <section>
          <h2>PyPyjs</h2>
          The PyPy project compiled to ASM.js and customized to generate JS
          <aside class="notes">
            Python 2
            Python semantics at the expense of performance.
          </aside>
        </section>
        <section>
          <h2>Skulpt</h2>
          Another Python interpreter that runs in the browser, with an active community centered on education.
          <aside class="notes">
            Python 2.
            Python semantics at the expense of performance.
          </aside>
        </section>
        <section>
          <figure>
            <img height=300 data-src="img/pypyjs-runtime.png"/>
            <img height=300 data-src="img/pypyjs-loadtime.png"/>
            <figcaption style="font-size: 14px">
              <small>
                Performance metrics for <code>pypy.js</code> from <em><a href="http://arewepythonyet.com/">Are We Python Yet?</a></em>
              </small>
            </figcaption>
          </figure>
          <div>Running an interpreter in the browser gives Python semantics at the cost of performance</div>
        </section>
        <section>
          <h2>Questions Please!</h2>
        </section>
        <section>
          <h2>Thank you!</h2>
        </section>
      </div>
    </div>
    <!-- head.min.js enables dependency loading-->
    <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
    <script src="node_modules/reveal.js/js/reveal.js"></script>
    <script>
      Reveal.initialize({
          dependencies: [
            {
              src: 'node_modules/reveal.js/plugin/highlight/highlight.js',
              async: true,
              callback: function() { hljs.initHighlightingOnLoad(); }
            },
            { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true }
          ]
      });
    </script>
  </body>
</html>
