<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="node_modules/reveal.js/css/theme/white.css">
    <!-- Code highlighting theme -->
    <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">
    <style>
      /* No borders on images */
      .reveal section img {
        border: inherit;
      }

      /* Hide current-visible after it is passed */
      .reveal .slides section .fragment.current-visible:not(.current-fragment) {
        display: none;
      }

      .reveal section.who-am-i img {
        box-shadow: none;
        margin-top: 0px;
        margin-bottom: -10px;
      }

    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Python in the Browser</h1>
          <h2>A Guide for Intrepid Pythonistas</h2>
        </section>
        <section class="who-am-i">
          <h2>Who Am I?</h2>

          <!-- Make it easy to display these side by side, and lists with no bullets -->
          <div style="display: flex; flex: 1 0 inherit; list-style: none">
            <div>
              <h3>Max Shenfield</h3>

              <p>
                <img height=50 data-src="img/github-logo.png"/><code>@mshenfield</code>
              </p>
              <p>
                <img height=50 data-src="img/twitter-logo.png"/><code>@MaxShenfield</code>
              </p>
              <p>
                <img data-src="img/code-for-nashville.jpg"/>
              </p>
              <p>
                <img data-src="img/eventbrite.png"/>
              </p>
            </div>
            <div style='flex-basis: 400px'>
              <img data-src="img/me.jpg"/>
            </div>
          </div>

          <aside class='notes'>
            The guy with the funny moustache on NashDev.

            You can find me as mshenfield on Github or MaxShenfield on Twitter.

            Code for Nashville co-organizer, along with Nick Lorenson,
            Corey Rice, Tim Eccleston. If you're interested in getting your
            hands dirty building open source apps with the best causes in our
            community, come talk to me.

            Backend billing and accounting systems at Eventbrite.  Helping
            ensure our organizer's have the funds they need to put on amazing
            events.
          </aside>
        </section>
        <section>
          <section>
            <h1>What?</h1>
          </section>
          <section>
            <h2>Web apps built with Python</h2>
            <iframe
              height=500
              width=700
              sandbox="allow-same-origin allow-scripts"
              src="http://0.0.0.0:8080/">
            </iframe>
          </section>
          <section>
            <pre><code data-trim>
              class Todo:
                  """An item in a todo list."""
                  def __init__(self, text='', completed=False):
                      self.text = text
                      self.completed = completed
                      self.editing = False
            </code></pre>
            <pre><code data-trim data-noescape>
              class TodoInput:
                  """An input that allows users to create a new Todo item"""
                  def on_input(event):
                      if event.key != 'Enter':
                          return

                      todo_text = event.target.value.strip()
                      if not todo_text:
                          return
                      self.props.add_todo((Todo(todo_text))

                  def render(self):
                      return React.createClass(
                          'input',
                          {},
                          {
                            'onInput': self.on_input,
                            'type': 'text',
                          },
                      )
            </code></pre>
            <aside class="notes">
              First fragment shows some basic frontend rendering code
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h1>Why?</h1>
            <p class="fragment fade-up">Oh God, Why?</p>
          </section>
          <section>
            <img style="box-shadow: none" data-src="img/beaker.png"/>
            <div>You ðŸ’– to experiment</div>

            <aside class="notes">
                It's the wild west out there - minimal debugging, editor support,
                example code, and people to ask questions of. You want to expand
                core features and build libraries, just to see what will
                happen.
            </aside>
          </section>
          <section>
            <div>Operator overloading, decorators, and metaclasses enable great tools</div>

            <aside class="notes">
              Django, Flask, Click, Numpy - Python has an ecosystem
              of tools with intuitive, friendly interfaces.

              JavaScript has some ideas being taken from Python (iterator abstractio),
              proxy attributes, Maps, but it doesn't have the same proven
              track record yet.
            </aside>
          </section>
          <section>
            <div>Muli-platform languages are the future</div>

            <br/>

            <ul>
              <li>Code sharing between client and server</li>
              <li>One foundation (standards, syntax, semantics)</li>
              <li>Lower barriers between frontend and backend</li>
            </ul>
            <aside class="notes">
              <p>
                Multi-platform languages are the future. Clojure and ClojureScript,
                Node.js and JavaScript, show that great things can happen when users
                have a consistent foundation to build off of on the frontend and backend.
                There are unavoidable complexities, but nothing that you can't work around.
                Still have to consider many runtimes.

                Node.js existed because it actually did something well (evented architecture)
                but also allowed the incredible amount of users with JavaScript experience
                backgrounds to produce great code.  This inludes servers (Express),
                some of the best command line intefaces (Chalk), server side rendering (React).
              </p>
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h1>Why Not?</h1>
          </section>
          <section>
            JavaScript is actually...
            <br/>
            <img height=500 class="fragment fade-up" data-src="img/pretty-good.gif"/>

            <aside class="notes">
              ES6, ES7 have added workarounds for the infamous this and
              hasOwnProperty hacks, nice functional syntax, better data
              structures, and made it easier to write modular code.

              And the ecosystem of frontend frameworks and tools is irreplicable.
              React, Vue.js, Glimmer, and the 15 other frameworks support a host
              of handy, well documented, and discoverable components.  You can
              also do pretty incredible things on the web platform that aren't
              web specific - PDF.js, Phaser.js (games), Howler.js (Audio),
              D3.js (Data visualization).
            </aside>
          </section>
          <section>
            The worst part of writing frontend isn't actually writing JavaScript

            <!-- JS version -->
            <pre class="fragment current-visible"><code data-trim data-noescape>
                class Avatar extends Component {
                  render() {
                    const borderRadius = this.props.square ? '0px' : '25px';

                    return (
                      &ltdiv>
                        &ltimg
                          src={this.props.imageUrl}
                          style={`border-radius: ${borderRadius}; height: 50px;`}
                        />
                        &ltstrong>{this.props.name}&lt/strong>
                      &lt/div>
                    )
                  }
                }
            </code></pre>

            <!-- Python version -->
            <pre class="fragment fade-up"><code data-trim data-noescape>
                class Avatar(Component):
                    def render(self):
                        borderRadius = '0px' if self.props.square else '25px'

                        # Disclaimer: We don't have a Python JSX yet.
                        return (
                          &ltdiv>
                            &ltimg
                              src={self.props.imageUrl}
                              style={'border-radius: {}; height: 50px;'.format(borderRadius)}
                            />
                            &ltstrong>{self.props.name}&lt/strong>
                          &lt/div>
                        )
            </code></pre>
            <aside class="notes">
              It's manipulating the DOM. Changing someone else's CSS comes close.

              New frameworks have actually eliminated this.  The difference between
              this (JS slides) and this (Python slides) isn't that big.  Many
              times JS just serves as glue code.
            </aside>
          </section>
          <section>
            You can't escape the runtime

            <aside class="notes">
                Python is limited by the GIL.  JavaScript's representation of
                objects, strings, regexes, as well as it's event-driven
                architecture mean that you'll always have to consider
                the runtime.

                In lots of cases, Python in JS libraries will re-implement
                Python stdlib functions in JavaScript instead of transpiling
                the Python stdlib (for both performance and compatibility
                reasons).  Some libraries use JS objects directly, so
                you have to understand their limitations, like object keys being
                restrictes to strings.

                This is the case for all transpiled languages.  Even though
                you get a lot of the same, the un-anticipated differences can
                be as gnarly as.
            </aside>
          </section>
        </section>
        <section data-background-color='#000'>
          <h1 style='color: white;'>Part 2: The Wild West</h1>
        </section>
        <section>
          <h2>Transcrypt</h2>
          Transpiled (think coffee-script) with good dev tools
          <aside class="notes">
            Python 3.

            Embraces the power of the JS ecosystem, at the expense of Python
            semantics.  Best experience available.
          </aside>
        </section>
        <section>
          <h2>Brython</h2>
          Interpreter has to ship with your code, unsurprising but slow
          <aside class="notes">
            Python 3. Python semantics at the expense of performance.

            The `browser` addon doesn't compare to other JS tooling
            like React and Vue.js, or even jQuery.  I want to get
            away from DOM manipulation, not have a new way of doing it.
          </aside>
        </section>
        <section>
          <h2>PyPyjs</h2>
          The PyPy project compiled to ASM.js and customized to generate JS
          <aside class="notes">
            Python 2
            Python semantics at the expense of performance.
          </aside>
        </section>
        <section>
          <h2>Skulpt</h2>
          Another Python interpreter that runs in the browser, with an active community centered on education.
          <aside class="notes">
            Python 2.
            Python semantics at the expense of performance.
          </aside>
        </section>
        <section>
          <figure>
            <img height=300 data-src="img/pypyjs-runtime.png"/>
            <img height=300 data-src="img/pypyjs-loadtime.png"/>
            <figcaption style="font-size: 14px">
              <small>
                Performance metrics for <code>pypy.js</code> from <em><a href="http://arewepythonyet.com/">Are We Python Yet?</a></em>
              </small>
            </figcaption>
          </figure>
          <div>Running an interpreter in the browser gives Python semantics at the cost of performance</div>
        </section>
        <section>
          <h2>Questions Please!</h2>
        </section>
        <section>
          <h2>Thank you!</h2>
        </section>
      </div>
    </div>
    <!-- head.min.js enables dependency loading-->
    <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
    <script src="node_modules/reveal.js/js/reveal.js"></script>
    <script>
      Reveal.initialize({
          dependencies: [
            {
              src: 'node_modules/reveal.js/plugin/highlight/highlight.js',
              async: true,
              callback: function() { hljs.initHighlightingOnLoad(); }
            },
            { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true }
          ]
      });
    </script>
  </body>
</html>
